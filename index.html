<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0b0e13">
  <title>TrackTheDrop — Mobile</title>
  <link rel="stylesheet" href="./style.css?v=7">
</head>
<body>
  <main class="app" id="app">
    <section class="viewport fs" id="viewport">
      <video id="video" playsinline muted class="gray"></video>
      <canvas id="overlay" class="overlay"></canvas>
      <div class="flash" id="flash"></div>

      <!-- Minimal HUD -->
      <div class="hud" id="hud">
        <span id="status">Ready</span>
        <span id="fps">— fps</span>
      </div>

      <!-- Floating top controls -->
      <div class="topbar" id="topbar">
        <button class="icon" id="exitFS" aria-label="Exit fullscreen">✕</button>
        <div class="spacer"></div>
        <button class="icon" id="installBtn" aria-label="Install app">⬇</button>
      </div>

      <!-- Bottom toolbar (large, thumb-friendly) -->
      <nav class="toolbar" id="toolbar">
        <button class="tool" id="startBtn">Start</button>
        <button class="tool" id="torchBtn">Flashlight</button>
        <button class="tool" id="alertBtn" aria-pressed="true">Alert: On</button>
        <button class="tool" id="fsBtn">Fullscreen</button>
      </nav>

      <!-- Tap hint when stopped -->
      <div class="tap-hint" id="tapHint">Tap to Start</div>
    </section>

    <!-- Compact settings drawer -->
    <section class="drawer" id="drawer">
      <header class="drawer-head">
        <strong>Tracking</strong>
        <button class="icon" id="closeDrawer">✕</button>
      </header>
      <div class="drawer-body">
        <div class="row">
          <label>Overlay</label>
          <select id="overlayMode">
            <option value="debug">Debug score</option>
            <option value="blend">Blend</option>
            <option value="contour">Contour</option>
            <option value="mask" selected>Mask</option>
          </select>
        </div>
        <div class="row">
          <label>Opacity <span id="opVal">0.87</span></label>
          <input type="range" id="opacity" min="20" max="100" value="87">
        </div>
        <div class="row">
          <label>Threshold <span id="thrVal">0.00</span></label>
          <input type="range" id="thr" min="0" max="100" value="0">
        </div>
        <div class="row">
          <label>Sensitivity <span id="sensVal">1.00</span></label>
          <input type="range" id="sens" min="0" max="100" value="100">
        </div>
        <div class="row">
          <label>Stability <span id="stabVal">1</span></label>
          <input type="range" id="stability" min="1" max="6" value="1">
        </div>
        <div class="row">
          <label>Profile</label>
          <select id="profile">
            <option value="aggressive" selected>Aggressive</option>
            <option value="balanced">Balanced</option>
            <option value="safety">Safety</option>
          </select>
        </div>
        <div class="row">
          <label>Fast mode</label>
          <input type="checkbox" id="fastMode" checked>
        </div>
        <div class="row">
          <button class="tool ghost" id="openSettings">Open drawer</button>
        </div>
        <p class="hint">Aggressive · Threshold 0.00 · Sensitivity 1.00 · Stability 1 · Fast ON</p>
      </div>
    </section>
  </main>

  <script src="./app.js?v=7"></script>
</body>
</html>
