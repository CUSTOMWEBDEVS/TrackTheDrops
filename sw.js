self.addEventListener('install',e=>{e.waitUntil((async()=>{const c=await caches.open('ttd-v9');await c.addAll(['./','./index.html?v=5','./style.css?v=5','./app.js?v=5','./manifest.webmanifest?v=5']);self.skipWaiting();})())});self.addEventListener('activate',e=>e.waitUntil(self.clients.claim()));self.addEventListener('fetch',e=>e.respondWith((async()=>{const url=new URL(e.request.url);if(url.pathname.endsWith('/')) url.searchParams.set('v','5');const r=await caches.match(e.request,{ignoreSearch:false});try{return await fetch(e.request)}catch{return r||Response.error()}})()));